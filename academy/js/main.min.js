const breadCrumbs=document.querySelector(".breadcrumbs"),header=document.querySelector(".header"),menuMobileBtn=document.querySelector(".menu-mobile__btn"),menuMobile=document.querySelector(".menu-mobile"),iconMenu=document.querySelector(".icon-menu"),mobileNavItem=document.querySelectorAll(".navmenu-mobile__item"),pagesHero=document.querySelector(".pages-hero__container"),fixedBlocks=document.querySelectorAll(".fixed-block"),feedbackBtn=document.querySelectorAll(".feedback-btn"),modal=document.querySelectorAll(".modal"),feedbackModal=document.querySelector(".feedback-modal"),successModal=document.querySelector(".success-modal"),errorModal=document.querySelector(".error-modal"),customSelect=document.querySelectorAll(".select-custom"),pageContent=document.querySelectorAll(".page-content");let paddingValue=window.innerWidth>325?window.innerWidth-document.documentElement.clientWidth+"px":0;function isMobile(){return window.innerWidth<700}function addPaddingToFixedEl(e){e.forEach((e=>e.style.paddingRight=paddingValue))}function removePaddingOfFixedEl(e){e.forEach((e=>e.style.paddingRight="0px"))}function smoothDrop(e,t){if(e.classList.contains("active"))t.style.height="0px";else{t.style.height="auto";let e=t.clientHeight+"px";t.style.height="0px",setTimeout((function(){t.style.height=e}),0)}e.classList.toggle("active")}function openModal(e){document.querySelector(".icon-menu").classList.contains("active")||(fixedBlocks&&addPaddingToFixedEl(fixedBlocks),document.body.style.paddingRight=paddingValue,document.body.classList.add("no-scroll")),e.classList.add("open"),setTimeout((()=>{e.querySelector(".modal__inner").classList.add("open")}),0)}function closeModal(e){e.querySelector(".modal__inner").classList.remove("open"),setTimeout((()=>{document.querySelector(".icon-menu").classList.contains("active")||(fixedBlocks&&removePaddingOfFixedEl(fixedBlocks),document.body.style.paddingRight="0px",document.body.classList.remove("no-scroll")),e.classList.remove("open")}),500)}function formSuccess(e){e.querySelectorAll("input").forEach((e=>e.value="")),e.querySelector("textarea").value="",openModal(successModal)}function addPaddingToContainer(){breadCrumbs&&(pagesHero.style.paddingTop=breadCrumbs.offsetHeight+header.offsetHeight+40+"px")}function viewproblemSolution(){const e=document.querySelectorAll(".item-problem");if(window.innerWidth<992){document.querySelectorAll(".item-problem__btn--open");e.forEach((t=>{t.querySelector(".item-problem__btn--open").addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("open")})),t.classList.add("open"),t.querySelector(".item-problem__btn--close").addEventListener("click",(()=>{t.classList.remove("open")}))}))}))}else e.forEach((e=>{e.classList.remove("open")}))}window.addEventListener("resize",(()=>{paddingValue=window.innerWidth>325?window.innerWidth-document.documentElement.clientWidth+"px":0,document.querySelector(".main-articles")&&articlesSwiper(),pagesHero&&addPaddingToContainer(),viewproblemSolution()})),menuMobileBtn.addEventListener("click",(e=>{menuMobile.classList.contains("active")?(menuMobile.classList.remove("child-active"),mobileNavItem.forEach((e=>{e.classList.remove("active"),e.querySelector(".subnavs").style.height="0px"})),menuMobileBtn.textContent="Наши услуги"):menuMobileBtn.textContent="Скрыть",menuMobile.classList.toggle("active"),iconMenu.classList.toggle("active")})),iconMenu.addEventListener("click",(()=>{iconMenu.classList.contains("active")?(mobileNavItem.forEach((e=>{e.classList.remove("active"),e.querySelector(".subnavs").style.height="0"})),setTimeout((()=>{iconMenu.classList.remove("active"),menuMobile.classList.remove("active"),menuMobileBtn.textContent="Наши услуги"}),250)):(iconMenu.classList.add("active"),menuMobile.classList.add("active"),menuMobileBtn.textContent="Скрыть")})),mobileNavItem.forEach((e=>{e.addEventListener("click",(()=>{isMobile()||mobileNavItem.forEach((e=>{e.classList.remove("active"),e.querySelector(".subnavs").style.height="0"})),smoothDrop(e,e.querySelector(".subnavs")),menuMobile.classList.add("child-active")}))})),feedbackBtn.forEach((e=>{e.addEventListener("click",(()=>{openModal(feedbackModal)}))})),modal.forEach((e=>{const t=e.querySelector(".modal__content");e.querySelector(".modal__close").addEventListener("click",(t=>{closeModal(e)})),e.addEventListener("click",(i=>{t.contains(i.target)||closeModal(e)}))})),pagesHero&&addPaddingToContainer(),viewproblemSolution();const mobileCheck=()=>{const e=navigator.userAgent||navigator.vendor||window.opera;return/android/i.test(e)?(vars.htmlEl.classList.add("page--android"),"Android"):/iPad|iPhone|iPod/.test(e)&&!window.MSStream?(vars.htmlEl.classList.add("page--ios"),"iOS"):"unknown"};function findScrollbarWidth(){paddingValue=window.innerWidth-document.documentElement.clientWidth+"px"}function fancyboxToolbarPos(){document.querySelector(".fancybox__toolbar").style.right=(window.innerWidth-document.querySelector(".fancybox__image").offsetWidth)/2+"px",document.querySelector(".fancybox__toolbar").style.top=(window.innerHeight-document.querySelector(".fancybox__image").offsetHeight)/2+"px"}findScrollbarWidth(),window.addEventListener("resize",findScrollbarWidth),$(".animate-numb").each((function(){}));let statItem=document.querySelectorAll(".animate-numb");function openSelectCustom(e){e.classList.add("open"),e.setAttribute("aria-expanded",!0),e.querySelectorAll(".select-custom__option").forEach((t=>{t.addEventListener("click",(i=>{e.querySelectorAll(".select-custom__option").forEach((e=>e.classList.remove("selected"))),t.classList.add("selected"),e.querySelector(".select-custom__selected").textContent=t.textContent,closeSelectCustom(e)}))})),document.addEventListener("click",(function t(i){e.contains(i.target)||(closeSelectCustom(e),document.removeEventListener("click",t))}))}function closeSelectCustom(e){e.classList.remove("open"),e.setAttribute("aria-expanded",!1)}if(statItem.forEach((e=>{new IntersectionObserver((function(t,i){t.forEach((t=>{t.isIntersecting&&$(e).prop("number",nmb).animateNumber({number:content,numberStep:function(e,t){var i=e.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g," ");$(t.elem).text(i)}},{easing:"swing",duration:1500})}))})).observe(e)})),window.addEventListener("scroll",(()=>{let e=window.pageYOffset||document.documentElement.scrollTop;statItem.forEach((t=>{let i=function(e){return e.getBoundingClientRect().top}(t)+e,n=Math.abs(window.innerHeight-.5*t.offsetHeight);if(e>i-n){let e=t.textContent,i=t.getAttribute("data-numb");console.log(i),console.log(e),dk&&($(t).prop("number",i).animateNumber({number:e,numberStep:function(e,t){var i=e.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g," ");$(t.elem).text(i)}},{easing:"swing",duration:1500}),dk=!1)}}))})),pageContent&&pageContent.forEach((e=>{const t=e.querySelectorAll("video");for(let e=0;e<t.length;e++){const i=document.createElement("a");i.classList.add("page-video"),i.setAttribute("data-fancybox","video-gallery");const n=t[e].parentNode;i.setAttribute("href",t[e].getAttribute("src")),i.appendChild(t[e]),n.appendChild(i)}})),customSelect&&customSelect.forEach((e=>{e.querySelector(".select-custom__selected").addEventListener("click",(()=>{e.classList.contains("open")?closeSelectCustom(e):openSelectCustom(e)}))})),document.querySelector(".main-problems1__swiper")){new Swiper(".main-problems1__swiper",{slidesPerView:1.35,observe:!0,observeParents:!0,spaceBetween:8,breakpoints:{992.98:{slidesPerView:4},768.98:{slidesPerView:3},700.98:{slidesPerView:2.7},480.98:{slidesPerView:2}},navigation:{nextEl:".main-problems1-btn--next",prevEl:".main-problems1-btn--prev"},pagination:{el:".main-problems1-pagination",type:"bullets",clickable:!0},scrollbar:{el:".main-problems1-scrollbar",draggable:!0},speed:800})}if(document.querySelector(".main-problems2__swiper")){new Swiper(".main-problems2__swiper",{slidesPerView:1.35,observe:!0,observeParents:!0,spaceBetween:8,breakpoints:{992.98:{slidesPerView:4},768.98:{slidesPerView:3},700.98:{slidesPerView:2.7},480.98:{slidesPerView:2}},navigation:{nextEl:".main-problems2-btn--next",prevEl:".main-problems2-btn--prev"},pagination:{el:".main-problems2-pagination",type:"bullets",clickable:!0},scrollbar:{el:".main-problems2-scrollbar",draggable:!0},speed:800})}if(document.querySelector(".main-reviews__swiper")){new Swiper(".main-reviews__swiper",{slidesPerView:1,observe:!0,observeParents:!0,spaceBetween:8,breakpoints:{768.98:{slidesPerView:2},576.98:{slidesPerView:1.147}},navigation:{nextEl:".main-reviews-btn--next",prevEl:".main-reviews-btn--prev"},pagination:{el:".main-reviews-pagination",type:"bullets",clickable:!0},scrollbar:{el:".main-reviews-scrollbar",draggable:!0},speed:800})}let swiperArticles,initArtcilesSwiper=!1;function articlesSwiper(){window.innerWidth>480?initArtcilesSwiper||(initArtcilesSwiper=!0,swiperArticles=new Swiper(".main-articles__swiper",{slidesPerView:2,observe:!0,observeParents:!0,spaceBetween:8,breakpoints:{700.98:{slidesPerView:3}},navigation:{nextEl:".main-articles-btn--next",prevEl:".main-articles-btn--prev"},pagination:{el:".main-articles-pagination",type:"bullets",clickable:!0},scrollbar:{el:".main-articles-scrollbar",draggable:!0},speed:800})):initArtcilesSwiper&&(console.log(swiperArticles),swiperArticles.destroy(),initArtcilesSwiper=!1)}if(document.querySelector(".main-articles")&&articlesSwiper(),document.querySelector(".main-services__swiper")){new Swiper(".main-services__swiper",{slidesPerView:1.35,observe:!0,observeParents:!0,spaceBetween:8,breakpoints:{992.98:{slidesPerView:4},768.98:{slidesPerView:3},700.98:{slidesPerView:2.7},480.98:{slidesPerView:2}},navigation:{nextEl:".main-services-swiper-btn--next",prevEl:".main-services-swiper-btn--prev"},pagination:{el:".main-services-swiper-pagination",type:"bullets",clickable:!0},scrollbar:{el:".main-services-swiper-scrollbar",draggable:!0},speed:800})}if(document.querySelector(".main-team__swiper")){new Swiper(".main-team__swiper",{slidesPerView:1.34,observe:!0,observeParents:!0,spaceBetween:8,breakpoints:{992.98:{slidesPerView:4},576.98:{slidesPerView:3},480.98:{slidesPerView:2}},pagination:{el:".main-team-swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".main-team-swiper-btn--next",prevEl:".main-team-swiper-btn--prev"},scrollbar:{el:".main-team-swiper-scrollbar",draggable:!0},speed:800})}if(document.querySelector(".top-purpose__swiper")){new Swiper(".top-purpose__swiper",{slidesPerView:1,observe:!0,observeParents:!0,grid:{rows:3,fill:"column"},breakpoints:{576.98:{slidesPerView:2,grid:{rows:3}},1150.98:{slidesPerView:3,grid:{rows:2}}},navigation:{nextEl:".top-purpose-swiper-btn--next",prevEl:".top-purpose-swiper-btn--prev"},speed:800})}